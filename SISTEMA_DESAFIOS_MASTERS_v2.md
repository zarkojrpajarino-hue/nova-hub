# ğŸ† SISTEMA DE DESAFÃOS - REGLAS v2 (CAMINO A MASTER PERMANENTE)

## ğŸš€ NOVEDAD: "CAMINO A MASTER" SIEMPRE ABIERTO

### **CONCEPTO PRINCIPAL:**
- âœ… **CUALQUIERA puede explorar un nuevo rol EN CUALQUIER MOMENTO**
- âœ… Aunque ya seas Master de otros roles, puedes aprender desde cero
- âœ… Ciclo rÃ¡pido: 2-4 semanas de exploraciÃ³n â†’ Desafiar al Master
- âœ… **MÃS COMPETENCIA = MÃS PROFESIONAL**

### **EJEMPLO:**
```
Carla es Master en:
  â­ AI Tech (Fit: 4.8)
  ğŸ¥ˆ Sales   (Fit: 4.5)

Carla quiere aprender Marketing:
  ğŸ“… Semana 1-2: ExploraciÃ³n Marketing (Fit inicial)
  ğŸ“… Semana 3-4: EspecializaciÃ³n (Sube a Fit 3.8)
  ğŸ† Semana 5+:  DesafÃ­a al Master de Marketing
```

---

## ğŸ“‹ REGLAS PARA DESAFIAR (ACTUALIZADAS - MÃS FLEXIBLES)

### **El retador DEBE cumplir AL MENOS UNO de estos:**

âœ… **Estar en Top 5** del ranking del rol (antes: top 3)
âœ… **Haber completado 2+ semanas** explorando ese rol (nuevo)
âœ… **Tener fit score mÃ­nimo de 3.5** en ese rol (antes: 4.0)
âœ… **CAMINO A MASTER ABIERTO**: Cualquiera puede empezar en cualquier momento

### **PROTECCIÃ“N DEL MASTER (sin cambios):**

- âš ï¸ El Master solo puede ser desafiado **1 vez cada 2 meses**
- âš ï¸ El Master tiene **7 dÃ­as** para aceptar/declinar
- âš ï¸ Si el Master declina sin razÃ³n vÃ¡lida **3 veces**, pierde el tÃ­tulo
- âœ… El Master puede declinar si:
  - EstÃ¡ de vacaciones
  - Tiene emergencia personal
  - EstÃ¡ en perÃ­odo crÃ­tico de proyecto

---

## ğŸ›¤ï¸ FLUJO COMPLETO: "CAMINO A MASTER"

### **PASO 1: Seleccionar Rol**

En cualquier momento, haces click en **"ğŸš€ Camino a Master"** en la app.

Ves todos los roles disponibles:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš€ CAMINO A MASTER                    â”‚
â”‚                                        â”‚
â”‚ Tus Roles Actuales:                   â”‚
â”‚ â­ AI Tech  ğŸ¥ˆ Sales                  â”‚
â”‚                                        â”‚
â”‚ Explora un Nuevo Rol:                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ“±       â”‚ â”‚ ğŸ’°       â”‚ â”‚ âš™ï¸      â”‚â”‚
â”‚ â”‚Marketing â”‚ â”‚Finance   â”‚ â”‚Operationsâ”‚â”‚
â”‚ â”‚2-3 sem   â”‚ â”‚3-4 sem   â”‚ â”‚2-3 sem  â”‚â”‚
â”‚ â”‚[Explorar]â”‚ â”‚[Explorar]â”‚ â”‚[Explorar]â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **PASO 2: Iniciar ExploraciÃ³n**

Seleccionas "Marketing" â†’ El sistema:

1. âœ… Crea un `role_exploration_period` con duraciÃ³n de 2-4 semanas
2. âœ… Te asigna tareas de Marketing en proyectos activos
3. âœ… Notifica a tu equipo que estÃ¡s explorando Marketing
4. âœ… Comienza el tracking de tu progreso

### **PASO 3: ExploraciÃ³n (Semanas 1-2)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“± Explorando Marketing                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ Semana 1 de 4                          â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 50%               â”‚
â”‚                                         â”‚
â”‚ Progreso:                              â”‚
â”‚ âœ… 5 tareas completadas                â”‚
â”‚ âœ… 2 OBVs validados                    â”‚
â”‚ âœ… 3 feedback recibidos                â”‚
â”‚                                         â”‚
â”‚ Fit Score Actual: 3.2                  â”‚
â”‚ Meta para Desafiar: 3.5                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **PASO 4: EspecializaciÃ³n (Semanas 3-4)**

Si quieres subir tu fit score:
- Trabajas mÃ¡s en Marketing
- Recibes mÃ¡s feedback
- Completas proyectos clave
- Subes de 3.2 â†’ 3.8

### **PASO 5: Desafiar al Master**

Una vez tienes fit score 3.5+:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ† LISTO PARA DESAFIAR                  â”‚
â”‚                                         â”‚
â”‚ Tu Fit Score: 3.8 âœ…                    â”‚
â”‚ Requisito: 3.5 âœ…                       â”‚
â”‚                                         â”‚
â”‚ Master Actual: Pedro (Fit: 4.5)        â”‚
â”‚ Ãšltima defensa: hace 3 meses           â”‚
â”‚                                         â”‚
â”‚ Tipo de DesafÃ­o:                       â”‚
â”‚ â—‹ Performance (2 semanas)              â”‚
â”‚ â—‹ Project (3 semanas)                  â”‚
â”‚ â—‹ Peer Vote (1 semana)                 â”‚
â”‚                                         â”‚
â”‚ [Crear DesafÃ­o]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ VENTAJAS DEL SISTEMA

### **Para el Usuario:**
âœ… **Aprendizaje continuo** - Nunca dejas de crecer
âœ… **Flexibilidad** - Exploras cuando quieras
âœ… **MÃ¡s oportunidades** - No te limitas a 2 roles
âœ… **Competencia justa** - Requisitos accesibles (3.5 en vez de 4.0)

### **Para la Empresa:**
âœ… **Polivalencia** - Equipo multi-skilled
âœ… **DinÃ¡mica constante** - Siempre hay competencia
âœ… **Meritocracia** - Basado en fit scores reales
âœ… **Adaptabilidad** - Personas pueden cubrir mÃºltiples roles

### **ComparaciÃ³n con Sistema Anterior:**

| Aspecto | Antes | Ahora |
|---------|-------|-------|
| **ExploraciÃ³n de roles** | Solo en Fase 1-2 | âœ… SIEMPRE abierto |
| **Requisito para desafiar** | Top 3 + Fit 4.0 | âœ… Top 5 + Fit 3.5 |
| **DespuÃ©s de Fase 3** | "Bloqueado" en 2 roles | âœ… Puedes explorar mÃ¡s |
| **Tiempo mÃ­nimo** | 4 semanas (Fase 1) | âœ… 2 semanas |
| **Competencia** | Limitada | âœ… Alta (todos pueden desafiar) |

---

## ğŸ¯ TIPOS DE DESAFÃO (sin cambios)

### TIPO 1: RENDIMIENTO (Performance Battle)
**DuraciÃ³n:** 2 semanas
**Ganador:** Mayor puntuaciÃ³n combinada (tasks, OBVs, feedback)

### TIPO 2: PROYECTO (Project Showdown)
**DuraciÃ³n:** 3 semanas
**Ganador:** Mejor proyecto + voto del equipo

### TIPO 3: VOTACIÃ“N (Peer Vote)
**DuraciÃ³n:** 1 semana
**Ganador:** Mayor % de votos (Master 51%, Retador 60%)

---

## ğŸ“Š EJEMPLO REAL

### **Timeline de Carla:**

```
MES 1-2: Fase 1 (4 roles)
  Semana 1: Sales â†’ Fit 3.8
  Semana 2: Finance â†’ Fit 4.5 â­
  Semana 3: AI Tech â†’ Fit 4.2 â­
  Semana 4: Operations â†’ Fit 3.3

MES 2 (final): Fase 2 (Top 2)
  Semana 5: Finance â†’ Fit 4.7
  Semana 6: AI Tech â†’ Fit 4.5

MES 3: Fase 3 (Masters asignados)
  â­ Rol Estrella: Finance (4.7)
  ğŸ¥ˆ Rol Secundario: AI Tech (4.5)

MES 4: Camino a Master - Marketing
  Semana 1-2: ExploraciÃ³n Marketing â†’ Fit 3.2
  Semana 3-4: EspecializaciÃ³n â†’ Fit 3.8
  Semana 5: DesafÃ­a a Master de Marketing

MES 5: Camino a Master - Strategy
  Semana 1-2: ExploraciÃ³n Strategy â†’ Fit 3.5
  Semana 3: DesafÃ­a a Master de Strategy
```

**RESULTADO:** Carla ahora compite por Master en 4 roles diferentes ğŸš€

---

## ğŸ… BADGES ADICIONALES

Agregar nuevos badges para "Camino a Master":

```sql
INSERT INTO badge_definitions VALUES
('lifelong_learner', 'Aprendiz Eterno', 'Explorar 5+ roles diferentes', 'ğŸ“š', 'achievement', 'Explorar 5 roles', 200, false),
('role_hunter', 'Cazador de Roles', 'Desafiar en 3+ roles diferentes', 'ğŸ¯', 'challenge', 'Desafiar en 3 roles', 300, true),
('master_of_all', 'Master de Todos', 'Ser Master en 3+ roles simultÃ¡neamente', 'ğŸ‘‘', 'achievement', 'Ser Master de 3 roles', 500, true);
```

---

## âœ… IMPLEMENTACIÃ“N

### **SQL Necesario:**

```sql
-- Agregar funciÃ³n para iniciar "Camino a Master"
CREATE OR REPLACE FUNCTION start_path_to_master(
  p_member_id UUID,
  p_role TEXT,
  p_project_id UUID
)
RETURNS UUID
LANGUAGE plpgsql
AS $$
DECLARE
  exploration_id UUID;
BEGIN
  -- Crear nueva exploraciÃ³n
  INSERT INTO role_exploration_periods (
    member_id,
    role,
    project_id,
    start_date,
    end_date,
    status,
    duration_days
  ) VALUES (
    p_member_id,
    p_role,
    p_project_id,
    NOW(),
    NOW() + INTERVAL '2 weeks',
    'active',
    14
  )
  RETURNING id INTO exploration_id;

  -- Notificar al usuario
  INSERT INTO notifications (
    user_id,
    title,
    message,
    priority,
    action_url
  )
  SELECT
    m.auth_id,
    'ğŸš€ Camino a Master Iniciado',
    'Has comenzado tu exploraciÃ³n de ' || p_role || '. Â¡Buena suerte!',
    'high',
    '/exploration'
  FROM members m
  WHERE m.id = p_member_id;

  RETURN exploration_id;
END;
$$;
```

### **Frontend:**

1. Agregar botÃ³n **"ğŸš€ Camino a Master"** en ExplorationDashboard
2. Usar componente `PathToMaster.tsx` (ya creado âœ…)
3. Al seleccionar rol, llamar a `start_path_to_master()`

---

## ğŸ‰ RESULTADO FINAL

**Sistema profesional donde:**
- âœ… Cualquiera puede explorar nuevos roles siempre
- âœ… Requisitos accesibles para desafiar (3.5 en vez de 4.0)
- âœ… MÃ¡s competencia = mÃ¡s dinÃ¡mica
- âœ… Aprendizaje continuo incentivado
- âœ… No te "encasillas" en 2 roles para siempre

**MUY PROFESIONAL** âœ¨
